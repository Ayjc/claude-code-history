# åœ¨ Claude Code ä¸­ä½¿ç”¨

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å®‰è£…

```bash
# å…‹éš†æˆ–è¿›å…¥é¡¹ç›®ç›®å½•
cd claude-code-history

# è¿è¡Œå®‰è£…è„šæœ¬
./install.sh
```

### åŸºæœ¬ä½¿ç”¨

åœ¨ Claude Code ç»ˆç«¯ä¸­ç›´æ¥è¿è¡Œï¼š

```bash
# æ‰“å¼€ fzf æœç´¢ç•Œé¢
cch

# æœç´¢ç‰¹å®šå†…å®¹
cch fix
cch authentication
cch "refactor database"

# åˆ—è¡¨æ¨¡å¼
cch --list --limit 10

# æŸ¥çœ‹æ‰€æœ‰é¡¹ç›®
cch --list-projects

# æŒ‰é¡¹ç›®è¿‡æ»¤
cch -p my-project fix
```

## ğŸ¨ ç•Œé¢ç‰¹æ€§

### ç¾åŒ–è¾“å‡º

æ–°ç‰ˆæœ¬æä¾›äº†å¢å¼ºçš„è§†è§‰ä½“éªŒï¼š

- **å½©è‰²é«˜äº®**ï¼šå…³é”®ä¿¡æ¯ç”¨ä¸åŒé¢œè‰²æ ‡è¯†
- **å›¾æ ‡æ ‡è®°**ï¼šğŸ“ é¡¹ç›®ã€ğŸ• æ—¶é—´ã€ğŸ”‘ ID
- **æ€§èƒ½æŒ‡æ ‡**ï¼šæ˜¾ç¤ºæœç´¢æ—¶é—´å’Œç»“æœæ•°é‡
- **æ¸…æ™°åˆ†éš”**ï¼šä½¿ç”¨åˆ†éš”çº¿å’Œè¡¨æ ¼æ ¼å¼

ç¤ºä¾‹è¾“å‡ºï¼š

```
Search: 'fix' â”‚ 221 results â”‚ âš¡ Instant (20ms)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  Search Results (221 results)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. Fix authentication bug in login flow â”‚ ğŸ“ my-app â”‚ ğŸ• 2026-01-28 14:10
2. Fix database migration error â”‚ ğŸ“ backend â”‚ ğŸ• 2026-01-28 13:45
3. Fix CSS styling issues â”‚ ğŸ“ frontend â”‚ ğŸ• 2026-01-28 12:30
```

### å¢å¼ºé¢„è§ˆ

ä½¿ç”¨ fzf æ—¶ï¼ŒæŒ‰ `Ctrl+P` åˆ‡æ¢é¢„è§ˆçª—å£ï¼š

```bash
# å¯ç”¨é¢„è§ˆ
cch --preview

# è‡ªå®šä¹‰é¢„è§ˆä½ç½®
cch --preview --preview-position right  # å³ä¾§ï¼ˆé»˜è®¤ï¼‰
cch --preview --preview-position left   # å·¦ä¾§
cch --preview --preview-position top    # é¡¶éƒ¨
cch --preview --preview-position bottom # åº•éƒ¨
```

é¢„è§ˆçª—å£æ˜¾ç¤ºï¼š
- ğŸ“ å®Œæ•´é¡¹ç›®è·¯å¾„
- ğŸ• æ—¶é—´æˆ³ï¼ˆç»å¯¹æ—¶é—´ + ç›¸å¯¹æ—¶é—´ï¼‰
- ğŸ”‘ æç¤º ID
- å®Œæ•´æç¤ºå†…å®¹ï¼ˆè‡ªåŠ¨æ¢è¡Œï¼‰
- å­—æ•°å’Œå­—ç¬¦ç»Ÿè®¡

## âš¡ æ€§èƒ½ç‰¹æ€§

### è‡ªåŠ¨ç¼“å­˜

å·¥å…·ä¼šè‡ªåŠ¨ç¼“å­˜å†å²æ•°æ®ï¼š

- **é¦–æ¬¡è¿è¡Œ**ï¼š2.2 ç§’ï¼ˆæ„å»ºç¼“å­˜ï¼‰
- **åç»­è¿è¡Œ**ï¼š20-30 æ¯«ç§’ï¼ˆä½¿ç”¨ç¼“å­˜ï¼‰
- **æœç´¢**ï¼š20 æ¯«ç§’ï¼ˆç¬é—´å“åº”ï¼‰

### æ€§èƒ½æŒ‡æ ‡

æ¯æ¬¡æœç´¢éƒ½ä¼šæ˜¾ç¤ºæ€§èƒ½æŒ‡æ ‡ï¼š

```
Search: 'query' â”‚ 99 results â”‚ âš¡ Instant (20ms)
```

æ€§èƒ½ç­‰çº§ï¼š
- âš¡ **Instant** (< 100ms) - ç¬é—´å“åº”
- âœ“ **Fast** (< 500ms) - å¿«é€Ÿ
- â—‹ **OK** (> 500ms) - å¯æ¥å—

## ğŸ”§ é«˜çº§ç”¨æ³•

### é¡¹ç›®è¿‡æ»¤

```bash
# å•ä¸ªé¡¹ç›®
cch -p my-app fix

# å¤šä¸ªé¡¹ç›®
cch -p app1 -p app2 fix

# æ’é™¤é¡¹ç›®
cch -e test -e staging fix

# ç»„åˆä½¿ç”¨
cch -p prod -e legacy fix
```

### è¾“å‡ºæ ¼å¼

```bash
# ç®€æ´åˆ—è¡¨
cch --list --limit 10

# è¯¦ç»†ä¿¡æ¯
cch --list-detailed --limit 5

# JSON æ ¼å¼ï¼ˆç”¨äºè„šæœ¬ï¼‰
cch --json | jq '.[] | select(.project_path | contains("my-app"))'
```

### é…ç½®ç®¡ç†

```bash
# åˆå§‹åŒ–é…ç½®æ–‡ä»¶
cch --init

# æŸ¥çœ‹å½“å‰é…ç½®
cch --show-config

# é…ç½®æ–‡ä»¶ä½ç½®
~/.config/cch/config.toml
```

é…ç½®ç¤ºä¾‹ï¼š

```toml
[general]
max_results = 50
fzf_height = "60%"

[display]
show_timestamp = true
show_project = true
truncate_length = 100

[fzf]
fzf_layout = "reverse"
fzf_border = true
```

## ğŸ’¡ ä½¿ç”¨æŠ€å·§

### 1. å¿«é€Ÿæœç´¢æœ€è¿‘çš„æç¤º

```bash
cch --list --limit 5
```

### 2. æŸ¥æ‰¾ç‰¹å®šç±»å‹çš„æç¤º

```bash
cch "fix bug"
cch "add feature"
cch "refactor"
cch "test"
```

### 3. æŒ‰é¡¹ç›®æµè§ˆå†å²

```bash
# åˆ—å‡ºæ‰€æœ‰é¡¹ç›®
cch --list-projects

# æŸ¥çœ‹ç‰¹å®šé¡¹ç›®çš„å†å²
cch -p my-project --list
```

### 4. åœ¨ Claude Code ä¼šè¯ä¸­ä½¿ç”¨

åœ¨ Claude Code ä¸­ï¼Œä½ å¯ä»¥ï¼š

1. **æœç´¢å†å²æç¤º**ï¼š
   ```
   User: æˆ‘ä¹‹å‰é—®è¿‡ç±»ä¼¼çš„é—®é¢˜ï¼Œå¸®æˆ‘æ‰¾ä¸€ä¸‹
   Assistant: è®©æˆ‘æœç´¢ä¸€ä¸‹å†å²è®°å½•
   [è¿è¡Œ cch å‘½ä»¤]
   ```

2. **å¤ç”¨æˆåŠŸçš„æç¤º**ï¼š
   ```bash
   # æœç´¢å¹¶å¤åˆ¶
   cch "successful prompt" --list
   ```

3. **åˆ†ææç¤ºæ¨¡å¼**ï¼š
   ```bash
   # æŸ¥çœ‹æŸä¸ªé¡¹ç›®çš„æ‰€æœ‰æç¤º
   cch -p my-project --list-detailed
   ```

## ğŸ¯ å·¥ä½œæµé›†æˆ

### åœ¨ Claude Code ä¸­çš„å…¸å‹å·¥ä½œæµ

1. **å¼€å§‹æ–°ä»»åŠ¡å‰**ï¼š
   ```bash
   # æŸ¥çœ‹ä¹‹å‰ç±»ä¼¼çš„æç¤º
   cch "similar task"
   ```

2. **é‡åˆ°é—®é¢˜æ—¶**ï¼š
   ```bash
   # æœç´¢ä¹‹å‰çš„è§£å†³æ–¹æ¡ˆ
   cch "error message"
   ```

3. **é¡¹ç›®åˆ‡æ¢æ—¶**ï¼š
   ```bash
   # å›é¡¾é¡¹ç›®å†å²
   cch -p new-project --list
   ```

### Shell åˆ«åï¼ˆå¯é€‰ï¼‰

æ·»åŠ åˆ° `~/.zshrc` æˆ– `~/.bashrc`ï¼š

```bash
# å¿«é€Ÿæœç´¢
alias ch='cch'

# æœ€è¿‘çš„æç¤º
alias chl='cch --list --limit 10'

# å½“å‰é¡¹ç›®çš„å†å²
alias chp='cch -p $(basename $(pwd))'
```

## ğŸ› æ•…éšœæ’é™¤

### å‘½ä»¤æœªæ‰¾åˆ°

```bash
# æ£€æŸ¥å®‰è£…
which cch

# å¦‚æœæœªæ‰¾åˆ°ï¼Œæ·»åŠ åˆ° PATH
export PATH="$HOME/.local/bin:$PATH"

# æˆ–ä½¿ç”¨ pipx
brew install pipx
pipx install -e .
```

### æ€§èƒ½æ…¢

```bash
# æ¸…é™¤ç¼“å­˜é‡å»º
rm -rf ~/.cache/claude-code-history/

# ä¸‹æ¬¡è¿è¡Œä¼šè‡ªåŠ¨é‡å»º
cch --list
```

### ç»“æœä¸å®Œæ•´

```bash
# å¼ºåˆ¶é‡æ–°åŠ è½½
cch --list --limit 1000
```

## ğŸ“Š æ€§èƒ½å¯¹æ¯”

| æ“ä½œ | v1.0 | v2.0 | æå‡ |
|------|------|------|------|
| é¦–æ¬¡æœç´¢ | 1.8s | 2.2s | - |
| åç»­æœç´¢ | 1.8s | 0.02s | **98x** |
| å¯åŠ¨ | 1.8s | 0.03s | **55x** |
| å†…å­˜ | 156MB | 156MB | - |
| ç¼“å­˜ | æ—  | 6.74MB | é«˜æ•ˆ |

## ğŸ‰ æ€»ç»“

Claude Code History v2.0 æä¾›ï¼š

- âš¡ **é—ªç”µèˆ¬å¿«é€Ÿ**ï¼š20ms æœç´¢æ—¶é—´
- ğŸ¨ **ç¾åŒ–ç•Œé¢**ï¼šå½©è‰²è¾“å‡ºå’Œæ¸…æ™°æ ¼å¼
- ğŸ‘ï¸ **å¢å¼ºé¢„è§ˆ**ï¼šå®Œæ•´ä¿¡æ¯å±•ç¤º
- ğŸ’¾ **æ™ºèƒ½ç¼“å­˜**ï¼šè‡ªåŠ¨ç®¡ç†ï¼Œæ— éœ€é…ç½®
- ğŸ”§ **çµæ´»è¿‡æ»¤**ï¼šæŒ‰é¡¹ç›®ã€æ—¶é—´ã€å†…å®¹
- ğŸ“ˆ **æ€§èƒ½ç›‘æ§**ï¼šå®æ—¶åé¦ˆ

åœ¨ Claude Code ç»ˆç«¯ä¸­ç›´æ¥ä½¿ç”¨ï¼Œæ— éœ€é¢å¤–é…ç½®ï¼
